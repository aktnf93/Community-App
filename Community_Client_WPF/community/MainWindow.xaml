<Window x:Class="community.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:community"
        xmlns:v="clr-namespace:community.Views"
        xmlns:vm="clr-namespace:community.ViewModels"
        xmlns:c="clr-namespace:community.Common"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        BorderBrush="Gray" BorderThickness="1.5"
        Title="MainWindow" Height="900" Width="1600">
    <Window.DataContext>
        <vm:VM_MainViewModel/>
    </Window.DataContext>
    
    <Grid>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="140"/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>
            
            <!-- 메뉴 바 -->
            <Grid Grid.Column="0" Grid.Row="1" Grid.RowSpan="1" Background="#2C3E50">
                <StackPanel Margin="10,20,10,20">
                    <Button Content="Board" Height="40" Margin="0,0,0,10" Background="#34495E" Foreground="White"/>
                    <Button Content="Messages" Height="40" Margin="0,0,0,10" Background="#34495E" Foreground="White"/>
                    <Button Content="Profile" Height="40" Margin="0,0,0,10" Background="#34495E" Foreground="White"/>
                    <Button Content="Settings" Height="40" Margin="0,0,0,10" Background="#34495E" Foreground="White"/>
                </StackPanel>
            </Grid>
            
            <!-- 가운데 컨텐츠 -->
            <Grid Grid.Column="1" Grid.Row="1" Grid.RowSpan="1" Background="White">
                <v:V_Board  DataContext="{Binding VM_Moard_Instance}"/>
            </Grid>
            
            <!-- 우측 사용자 메시지 미리보기 -->
            <Grid Grid.Column="2" Grid.Row="1" Grid.RowSpan="1" Background="#ECF0F1">
                <v:V_Mseeage Visibility="Visible"/>
            </Grid>
            
            <!-- 상단 스테이터스 -->
            <Grid Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3" Background="#34495E">
                <TextBlock Foreground="White" FontSize="16" VerticalAlignment="Center" Margin="10,0,0,0">
                    <Run Text="{Binding Login_User.Id}"/>
                    <Run Text=":"/>
                    <Run Text="{Binding Login_User.Nickname}"/>
                    <Run Text=" 님 환영합니다."/>
                </TextBlock>
            </Grid>
            
            <!-- 하단 스테이터스 -->
            <Grid Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="3" Background="#34495E">
                <TextBlock Text="© 2024 Community App" Foreground="White" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,10,0"/>
            </Grid>
        </Grid>

        <!-- 새 글 작성 -->
        <Grid Visibility="{Binding NewBoard, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" DataContext="{Binding VM_Moard_Instance}">
            <Grid Background="Gray" Opacity="0.8" DataContext="{Binding Board_New_Add}" MouseLeftButtonDown="{c:MethodBinding BoardClose}"/>
            <v:V_Board_Detail DataContext="{Binding Board_New_Add}"/>
        </Grid>

        <!-- 로그인 -->
        <Grid Visibility="{Binding Views_Show.Login, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
            <Grid Background="Gray" Opacity="1"/>
            <v:V_Login DataContext="{Binding Login_User}"/>
        </Grid>
    </Grid>
</Window>
