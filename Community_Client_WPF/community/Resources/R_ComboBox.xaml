<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ControlTemplate TargetType="{x:Type ComboBox}" x:Key="BaseComboBox">
        <Grid>
            <!-- 메인 영역 -->
            <Border CornerRadius="2" 
                    BorderBrush="{StaticResource Color_Gray}" BorderThickness="1" 
                    Background="{StaticResource Color_White}">
                <Grid>
                    <!-- 드롭다운 버튼 -->
                    <ToggleButton x:Name="PART_ToggleButton" Focusable="False"
                                  Margin="1.8"
                                  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                  IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                  Background="Transparent" BorderThickness="0"
                                  HorizontalContentAlignment="Right">
                        <Path Margin="0,0,4,0" Style="{StaticResource PathDropDown}"/>
                    </ToggleButton>

                    <!-- 선택 항목 표시 (편집 불가 모드) -->
                    <ContentPresenter x:Name="ContentSite" Focusable="False" IsHitTestVisible="False"
                             Content="{TemplateBinding SelectionBoxItem}"
                             ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                             ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                             HorizontalAlignment="Left" VerticalAlignment="Center" Margin="6,0,30,0"
                             Visibility="Visible"/>

                    <!-- 편집 가능 모드 -->
                    <TextBox x:Name="PART_EditableTextBox"
                             Style="{x:Null}" Background="Transparent" 
                             BorderBrush="Gray" BorderThickness="0.5"
                             HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="6,0,26,0" 
                             Visibility="Collapsed"/>

                    <TextBlock x:Name="PlaceholderText" Text="{TemplateBinding ToolTip}" 
                               HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="6,0,26,0" 
                               Foreground="Gray" IsHitTestVisible="False" Visibility="Collapsed"/>
                </Grid>
            </Border>

            <!-- 드롭다운 목록 -->
            <Popup x:Name="PART_Popup"
                   IsOpen="{TemplateBinding IsDropDownOpen}"
                   Placement="Bottom" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide"
                   MinWidth="{TemplateBinding ActualWidth}">
                <Border CornerRadius="6" Background="White" BorderBrush="{StaticResource Color_Gray}" BorderThickness="1" Padding="4">
                    <ScrollViewer>
                        <ItemsPresenter x:Name="ItemsPresenter"/>
                    </ScrollViewer>
                </Border>
            </Popup>
        </Grid>

        <ControlTemplate.Triggers>
            <Trigger Property="IsEditable" Value="True">
                <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible"/>
                <Setter TargetName="ContentSite" Property="Visibility" Value="Collapsed"/>
            </Trigger>
            <Trigger Property="SelectedItem" Value="{x:Null}">
                <Setter TargetName="PlaceholderText" Property="Visibility" Value="Visible"/>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style TargetType="{x:Type ComboBox}">
        <Setter Property="Template" Value="{StaticResource BaseComboBox}"/>
    </Style>
</ResourceDictionary>