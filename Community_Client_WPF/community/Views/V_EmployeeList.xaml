<UserControl x:Class="community.Views.V_EmployeeList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:community.Views"
             mc:Ignorable="d" 
             Width="1810" Height="950"
             Background="{StaticResource Color_WhiteGray}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="280" Tag="그룹"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="*"   Tag="리스트"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="440" Tag="디테일"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"  Tag="타이틀"/>
            <RowDefinition Height="10"  Tag="여백"/>
            <RowDefinition Height="100" Tag="컨트롤"/>
            <RowDefinition Height="50"  Tag="여백"/>
            <RowDefinition Height="*"   Tag="리스트"/>
            <RowDefinition Height="30"  Tag="여백"/>
        </Grid.RowDefinitions>

        <!-- 타이틀 -->
        <Grid Grid.Column="1" Grid.ColumnSpan="5" Grid.Row="0" TextBlock.FontFamily="고도 M">
            <TextBlock Text="직원 정보 관리" FontSize="24" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
        </Grid>

        <!-- 중간 컨트롤 -->
        <Border Grid.Column="1" Grid.ColumnSpan="5" Grid.Row="2" Style="{StaticResource BaseCard}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="검색옵션" FontSize="13" FontWeight="Bold" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="320,0,0,0"/>
                    <CheckBox Content="전체" IsChecked="True" Margin="20,0,0,0"/>
                    <CheckBox Content="재직"/>
                    <CheckBox Content="휴가"/>
                    <CheckBox Content="정직"/>
                    <CheckBox Content="퇴직"/>
                    <CheckBox Content="대기"/>
                    <CheckBox Content="계약해지"/>
                </StackPanel>

                <Line Grid.Row="0" Stroke="{StaticResource Color_Gray}" StrokeThickness="0.5" X1="0" X2="2000"
                      HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>

                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="검색명" FontSize="13" FontWeight="Bold" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="320,0,0,0"/>

                    <ComboBox Width="200" Height="28" Margin="20,0,0,0"/>

                    <TextBox Width="220" Height="28" ToolTip="검색어를 입력해주세요." Margin="20,0,0,0"/>

                    <Button Width="70" Height="28" Content="검색" ToolTip="검색" Margin="20,0,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 그룹 리스트 -->
        <Border Grid.Column="1" Grid.Row="4" Style="{StaticResource BaseCard}">
            <TreeView ItemsSource="{Binding TeamTreeList}" Style="{StaticResource Tree_EmployeesGroup}" Margin="4"/>
        </Border>

        <!-- 멤버 수 -->
        <Grid Grid.Column="3" Grid.Row="3">
            <TextBlock Text="{Binding EmployeeList.Count, StringFormat={}{0}명}" FontSize="12" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="14,0,0,6"/>
        </Grid>

        <!-- 멤버 리스트 -->
        <ItemsControl Grid.Column="3" Grid.Row="4" ItemsSource="{Binding EmployeeList}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Vertical"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.Template>
                <ControlTemplate TargetType="{x:Type ItemsControl}">
                    <Border Style="{StaticResource BaseCard}">
                        <Grid>
                            <Grid.Resources>
                                <Style TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="FontSize" Value="14"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                            </Grid.Resources>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90" Tag="사원번호"/>
                                <ColumnDefinition Width="70" Tag="이미지"/>
                                <ColumnDefinition Width="*" Tag="이름"/>
                                <ColumnDefinition Width="100" Tag="직급"/>
                                <ColumnDefinition Width="100" Tag="직책"/>
                                <ColumnDefinition Width="120" Tag="연락처"/>
                                <ColumnDefinition Width="200" Tag="이메일"/>
                                <ColumnDefinition Width="90" Tag="상태"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="40"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Border Grid.Row="0" Grid.ColumnSpan="20" Background="{StaticResource Color_LightGray}" CornerRadius="8,8,0,0"/>
                            <TextBlock Grid.Column="0" Grid.Row="0" Text="사원번호"/>

                            <TextBlock Grid.Column="1" Grid.Row="0" Text="이미지"/>
                            <TextBlock Grid.Column="2" Grid.Row="0" Text="이름"/>

                            <TextBlock Grid.Column="3" Grid.Row="0" Text="직급"/>
                            <TextBlock Grid.Column="4" Grid.Row="0" Text="직책"/>
                            <TextBlock Grid.Column="5" Grid.Row="0" Text="연락처"/>
                            <TextBlock Grid.Column="6" Grid.Row="0" Text="이메일"/>
                            <TextBlock Grid.Column="7" Grid.Row="0" Text="상태"/>

                            <Line Grid.Column="0" Grid.ColumnSpan="10" Grid.Row="0" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" X2="2000" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>

                            <Line Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="4" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="5" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <Line Grid.Column="6" Grid.Row="0" Grid.RowSpan="2" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" Y2="2000" HorizontalAlignment="Right" VerticalAlignment="Stretch"/>
                            <ScrollViewer Grid.Column="0" Grid.ColumnSpan="10" Grid.Row="1" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Hidden" Margin="0,0,0,20">
                                <ItemsPresenter/>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </ItemsControl.Template>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border x:Name="Bor" Height="70" Margin="0,0,0,0" Background="Transparent"
                            BorderBrush="Transparent" BorderThickness="0.5" CornerRadius="4" MouseLeftButtonDown="{local:MethodBinding OnSelect}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90" Tag="사원번호"/>
                                <ColumnDefinition Width="70" Tag="이미지"/>
                                <ColumnDefinition Width="*" Tag="이름"/>
                                <ColumnDefinition Width="100" Tag="직급"/>
                                <ColumnDefinition Width="100" Tag="직책"/>
                                <ColumnDefinition Width="120" Tag="연락처"/>
                                <ColumnDefinition Width="200" Tag="이메일"/>
                                <ColumnDefinition Width="90" Tag="상태"/>
                            </Grid.ColumnDefinitions>
                            <Grid.Resources>
                                <Style TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="FontSize" Value="13"/>
                                </Style>
                            </Grid.Resources>

                            <TextBlock Grid.Column="0">
                                <Run Text="{Binding Id}"/>
                                <Run Text="-"/>
                                <Run Text="{Binding Employee_Code}"/>
                            </TextBlock>


                            <Grid Grid.Column="1">
                                <Border Width="60" Height="60" 
                                        BorderThickness="0.0" BorderBrush="{StaticResource Color_Gray}" CornerRadius="26">
                                    <Border.Background>
                                        <ImageBrush ImageSource="{Binding Image_FullPath}"/>
                                    </Border.Background>
                                </Border>
                            </Grid>

                            <TextBlock Grid.Column="1" Visibility="Collapsed"
                                        HorizontalAlignment="Left" Margin="20,0,0,0">
                                <Run Text="{Binding Name}" FontSize="14"/>
                                <Run Text="-" FontSize="14"/>
                                <Run Text="{Binding Rank_Name}" FontSize="14"/>
                                <Run Text="{Binding Position_Name, StringFormat={}*{0}*, TargetNullValue=''}" FontSize="14"/>
                                <Run Text="{Binding Role_Name, StringFormat={} / {0}, TargetNullValue=''}" FontSize="14"/>
                                <LineBreak/>
                                        
                                <Run Text="{Binding Company_Name}" Foreground="{StaticResource Color_ThinGray}"/>
                                <Run Text="{Binding Department_Name, StringFormat={} / {0}, TargetNullValue=''}" Foreground="{StaticResource Color_ThinGray}"/>
                                <Run Text="{Binding Team_Name, StringFormat={} / {0}, TargetNullValue=''}" Foreground="{StaticResource Color_ThinGray}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="2">
                                <Run Text="{Binding Name}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="3">
                                <Run Text="{Binding Rank_Name}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="4">
                                <Run Text="{Binding Position_Name}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="5">
                                <Run Text="{Binding Phone}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="6">
                                <Run Text="{Binding Email}"/>
                            </TextBlock>

                            <TextBlock Grid.Column="3" Visibility="Collapsed"
                                        HorizontalAlignment="Left" TextWrapping="Wrap" TextTrimming="None" Margin="20,0,0,0">
                                <Run Text="{Binding Gender}"/>
                                <Run Text=", "/>
                                <Run Text="{Binding Birth_Date, StringFormat={}{0:yyMMdd}}"/>
                                <LineBreak/>
                                <Run Text="{Binding Email}"/>
                                <Run Text=", "/>
                                <Run Text="{Binding Phone}"/>
                                <LineBreak/>
                                <Run Text="{Binding Address}"/>
                            </TextBlock>

                            <ContentControl Grid.Column="7" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <ContentControl.Template>
                                    <ControlTemplate TargetType="{x:Type ContentControl}">
                                        <Border x:Name="Bor" BorderThickness="2" CornerRadius="14"
                                                Width="60" Height="28">
                                            <TextBlock x:Name="Txt" Text="{Binding Status}" 
                                                        FontWeight="Bold"
                                                        HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <DataTrigger Binding="{Binding Status}" Value="재직">
                                                <Setter TargetName="Bor" Property="Background" Value="#60BBF1"/>
                                                <Setter TargetName="Txt" Property="Foreground" Value="White"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="휴가">
                                                <Setter TargetName="Bor" Property="Background" Value="#7A6CD1"/>
                                                <Setter TargetName="Txt" Property="Foreground" Value="White"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Status}" Value="퇴직">
                                                <Setter TargetName="Bor" Property="Background" Value="Gray"/>
                                                <Setter TargetName="Txt" Property="Foreground" Value="White"/>
                                            </DataTrigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ContentControl.Template>
                            </ContentControl>

                            <Line Grid.Column="0" Grid.ColumnSpan="10" Grid.Row="0" Stroke="{StaticResource Color_Gray2}" StrokeThickness="1" X1="0" X2="2000" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>
                        </Grid>
                    </Border>
                    <DataTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bor" Property="BorderBrush" Value="Blue"/>
                        </Trigger>
                    </DataTemplate.Triggers>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- 신규 등록 내용 -->
        <Border Grid.Column="5" Grid.Row="4" Background="{StaticResource Color_White}" CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="5" Direction="320" Opacity="0.5"/>
            </Border.Effect>

            <Grid DataContext="{Binding EmployeeSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                  ShowGridLines="False" Margin="20,30,20,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="140"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>

                    <RowDefinition Height="10"/>

                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>

                    <RowDefinition Height="10"/>

                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>

                    <RowDefinition Height="10"/>

                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>

                    <RowDefinition Height="10"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="10"/>

                    <RowDefinition Height="30"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="10"/>

                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.Resources>
                    <Style TargetType="{x:Type TextBlock}">
                        <Setter Property="HorizontalAlignment" Value="Center"/>
                        <Setter Property="VerticalAlignment" Value="Center"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Foreground" Value="{StaticResource Color_ThinGray}"/>
                    </Style>
                </Grid.Resources>

                <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="3" 
                        Width="80" Height="80" BorderThickness="0" BorderBrush="{StaticResource Color_Gray}" CornerRadius="26"
                        HorizontalAlignment="Left" VerticalAlignment="Center" Margin="20,0,0,0">
                    <Border.Background>
                        <ImageBrush ImageSource="{Binding Image_FullPath}"/>
                    </Border.Background>
                </Border>


                <TextBlock Grid.Column="2" Grid.Row="0" Text="ID"/>
                <TextBox   Grid.Column="3" Grid.Row="0" Text="{Binding Id}" Height="26" IsEnabled="False" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="2" Grid.Row="1" Text="사번"/>
                <TextBox   Grid.Column="3" Grid.Row="1" Text="{Binding Employee_Code}" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="2" Grid.Row="2" Text="이름"/>
                <TextBox   Grid.Column="3" Grid.Row="2" Text="{Binding Name}" Height="26" Grid.ColumnSpan="2"/>

                <TextBlock Grid.Column="0" Grid.Row="4" Text="성별"/>
                <ComboBox  Grid.Column="1" Grid.Row="4" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="3" Grid.Row="4" Text="생년월일"/>
                <DatePicker Grid.Column="4" Grid.Row="4" SelectedDate="{Binding Birth_Date}" Height="26"/>
                <TextBlock Grid.Column="0" Grid.Row="5" Text="이메일"/>
                <TextBox   Grid.Column="1" Grid.Row="5" Text="{Binding Email}" Height="26" Grid.ColumnSpan="4"/>
                <TextBlock Grid.Column="0" Grid.Row="6" Text="핸드폰"/>
                <TextBox   Grid.Column="1" Grid.Row="6" Text="{Binding Phone}" Height="26" Grid.ColumnSpan="4"/>
                <TextBlock Grid.Column="0" Grid.Row="7" Text="집주소"/>
                <TextBox   Grid.Column="1" Grid.Row="7" Text="{Binding Address}" Grid.ColumnSpan="4"/>

                <TextBlock Grid.Column="0" Grid.Row="9" Text="회사"/>
                <ComboBox  Grid.Column="1" Grid.Row="9" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="0" Grid.Row="10" Text="부서"/>
                <ComboBox  Grid.Column="1" Grid.Row="10" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="0" Grid.Row="11" Text="팀"/>
                <ComboBox  Grid.Column="1" Grid.Row="11" Height="26" Grid.ColumnSpan="2"/>

                <TextBlock Grid.Column="3" Grid.Row="9" Text="직급"/>
                <ComboBox  Grid.Column="4" Grid.Row="9" Height="26"/>
                <TextBlock Grid.Column="3" Grid.Row="10" Text="직책"/>
                <ComboBox  Grid.Column="4" Grid.Row="10" Height="26"/>
                <TextBlock Grid.Column="3" Grid.Row="11" Text="담당"/>
                <ComboBox  Grid.Column="4" Grid.Row="11" Height="26"/>
                <TextBlock Grid.Column="3" Grid.Row="12" Text="권한"/>
                <ComboBox  Grid.Column="4" Grid.Row="12" Height="26"/>

                <TextBlock Grid.Column="0" Grid.Row="14" Text="상태"/>
                <ComboBox  Grid.Column="1" Grid.Row="14" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="3" Grid.Row="14" Text="계약유형"/>
                <ComboBox  Grid.Column="4" Grid.Row="14" Height="26"/>
                <TextBlock Grid.Column="0" Grid.Row="15" Text="입사일"/>
                <DatePicker Grid.Column="1" Grid.Row="15" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="3" Grid.Row="15" Text="퇴사일"/>
                <DatePicker Grid.Column="4" Grid.Row="15" Height="26" Grid.ColumnSpan="2"/>
                <TextBlock Grid.Column="0" Grid.Row="16" Text="퇴사 사유"/>
                <TextBox   Grid.Column="1" Grid.Row="16" Height="26" Grid.ColumnSpan="4"/>

                <TextBlock Grid.Column="0" Grid.Row="18" Text="비고"/>
                <TextBox   Grid.Column="1" Grid.Row="18" Text="{Binding Description}" Height="26" Grid.ColumnSpan="4"/>

                <TextBlock Grid.Column="0" Grid.Row="20" Text="계정"/>
                <StackPanel Grid.Column="1" Grid.Row="20" Orientation="Horizontal" Grid.ColumnSpan="4" HorizontalAlignment="Right">
                    <TextBlock Text="ID" Width="30" TextAlignment="Center" Foreground="Blue"/>
                    <TextBox Width="130" Height="26"/>
                    <TextBlock Text="PW" Width="30" TextAlignment="Center" Foreground="Blue"/>
                    <TextBox Width="130" Height="26"/>
                </StackPanel>
                <StackPanel Grid.Column="1" Grid.Row="21" Orientation="Horizontal" Grid.ColumnSpan="4" HorizontalAlignment="Right">
                    <TextBlock Text="PW 확인" Width="56" TextAlignment="Center" HorizontalAlignment="Right" Foreground="Blue"/>
                    <TextBox Width="130" Height="26"/>
                </StackPanel>
                <TextBlock Grid.Column="0" Grid.Row="21" Text="계정 상태"/>
                <ComboBox  Grid.Column="1" Grid.Row="21" Height="26" Grid.ColumnSpan="2"/>

                <StackPanel Grid.Column="0" Grid.ColumnSpan="5" Grid.Row="23" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,0" Height="30">
                    <Button Content="저장" Width="140" Margin="0,0,10,0"/>
                    <Button Content="취소" Width="140" Margin="10,0,0,0"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
