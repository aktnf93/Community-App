<UserControl x:Class="community.Views.V_Home"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:community.Views"
             xmlns:m="clr-namespace:community.Models"
             xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
             mc:Ignorable="d" 
             Width="1810" Height="1000" d:DesignWidth="1810" d:DesignHeight="1000"
             Loaded="{local:MethodBinding Loaded}" Background="{StaticResource Color_WhiteGray}">

    <Grid Margin="20,20,20,30">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" Tag="대시보드"/>
            <ColumnDefinition Width="20" Tag="여백"/>
            <ColumnDefinition Width="710" Tag="날씨뉴스"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="350"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="3">
            <Grid.RowDefinitions>
                <RowDefinition Tag="프로필" Height="300"/>
                <RowDefinition Tag="여백" Height="10"/>
                <RowDefinition Tag="공지사항" Height="100"/>
                <RowDefinition Tag="여백" Height="10"/>
                <RowDefinition Tag="최근게시글"/>
            </Grid.RowDefinitions>

            <!-- 프로필 -->
            <Border Grid.Row="0" Style="{StaticResource HomeBorder}" 
                    TextBlock.Foreground="White" TextBlock.FontSize="14">
                <Grid DataContext="{Binding CurrentUser}" Margin="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="160"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Tag="0"/>
                        <RowDefinition Tag="1"/>
                        <RowDefinition Tag="2"/>
                        <RowDefinition Tag="3"/>
                        <RowDefinition Tag="4"/>
                        <RowDefinition Tag="5"/>
                        <RowDefinition Tag="6"/>
                        <RowDefinition Tag="7"/>
                        <RowDefinition Tag="8"/>
                    </Grid.RowDefinitions>

                    <Ellipse Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" Width="70" Height="70" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="20,0,0,0">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="{Binding Image_FullPath}" Stretch="Uniform" RenderOptions.BitmapScalingMode="Fant"/>
                        </Ellipse.Fill>
                    </Ellipse>
                    <TextBlock Grid.Column="0" Grid.Row="3" Text="• ID : 1"/>
                    <TextBlock Grid.Column="0" Grid.Row="4" Text="• 사번 : A0001"/>
                    <TextBlock Grid.Column="0" Grid.Row="5" Text="• 이름 : 제임스"/>
                    <TextBlock Grid.Column="0" Grid.Row="6" Text="• 기타 : 창립멤버"/>
                    <TextBlock Grid.Column="0" Grid.Row="7" Text="• 상태 : 재직"/>
                    <TextBlock Grid.Column="0" Grid.Row="8" Text="• 입사일 : 2025-11-20"/>

                    <TextBlock Grid.Column="1" Grid.Row="2" Text="• 회사명 : 00식품"/>
                    <TextBlock Grid.Column="1" Grid.Row="3" Text="• 부서명 : 총무"/>
                    <TextBlock Grid.Column="1" Grid.Row="4" Text="• 팀명 : 회계"/>
                    <TextBlock Grid.Column="1" Grid.Row="5" Text="• 직급 : 과장"/>
                    <TextBlock Grid.Column="1" Grid.Row="6" Text="• 직책 : 팀장"/>
                    <TextBlock Grid.Column="1" Grid.Row="7" Text="• 담당 : PM"/>
                    <TextBlock Grid.Column="1" Grid.Row="8" Text="• 권한 : Master"/>

                    <TextBlock Grid.Column="2" Grid.Row="2" Text="• 성별 : 남"/>
                    <TextBlock Grid.Column="2" Grid.Row="3" Text="• 생년월일 : 000101"/>
                    <TextBlock Grid.Column="2" Grid.Row="4" Text="• 이메일 : abcdefg@123.com"/>
                    <TextBlock Grid.Column="2" Grid.Row="5" Text="• 연락처 : 000-1234-5678"/>
                    <TextBlock Grid.Column="2" Grid.Row="6" Grid.RowSpan="3" Text="• 자택 : 00시 00구 00군 00면 00읍 00소 123-567"/>
                </Grid>
            </Border>

            <!-- 공지사항 -->
            <Border Grid.Row="2" Style="{StaticResource HomeBorder}" 
                    TextBlock.Foreground="White" TextBlock.FontSize="20">
                <TextBlock Text="2025-11-19 : 전 직원은 다음 주 월요일 2번 회의실로 모이시기 바랍니다."
                           HorizontalAlignment="Left" VerticalAlignment="Center" Margin="40,0,0,0"/>
            </Border>
            
            <!-- 최근 게시물 -->
            <Border Grid.Row="4" Style="{StaticResource HomeBorder}">

                <StackPanel Orientation="Vertical" Margin="40,40,0,0"
                            TextBlock.Foreground="White" TextBlock.FontSize="16">
                    <TextBlock>
                        <Run Text="2025-11-01 : 게시글 - 경기 00엔지니어링에 기술미팅 일정 확인해주세요~"/>
                        <Run Text="New" Foreground="Yellow"/>
                    </TextBlock>
                    <TextBlock Text="2025-11-01 : 채팅방 - 엑스포 전시회 지원팀"/>
                    <TextBlock Text="2025-10-26 : 프로젝트 - 엑스포 전시회 지원팀"/>
                    <TextBlock>
                        <Run Text="2025-10-25 : 고객관리 - YY화학 1공장 시스템 에러"/>
                        <Run Text="New" Foreground="Yellow"/>
                    </TextBlock>
                </StackPanel>
            </Border>
        </Grid>

        <!-- 날씨 링크 -->
        <Border Grid.Column="2" Grid.Row="0" Background="{StaticResource Color_Gray}" BorderBrush="Gray" BorderThickness="0.5">
            <wv2:WebView2 x:Name="WeatherWebView" Margin="2"/>
        </Border>

        <!-- 뉴스 링크 -->
        <Border Grid.Column="2" Grid.Row="2" Background="{StaticResource Color_Gray}" BorderBrush="Gray" BorderThickness="0.5">
            <wv2:WebView2 x:Name="NewsWebView" Margin="2"/>
        </Border>
    </Grid>
</UserControl>
