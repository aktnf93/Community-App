<UserControl x:Class="community.Views.V_ProjectList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:community.Views"
             mc:Ignorable="d" 
             Width="1810" Height="950"
             Background="{StaticResource Color_WhiteGray}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="280" Tag="그룹"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="*"   Tag="리스트"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
            <ColumnDefinition Width="440" Tag="디테일"/>
            <ColumnDefinition Width="30"  Tag="여백"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"  Tag="타이틀"/>
            <RowDefinition Height="10"  Tag="여백"/>
            <RowDefinition Height="100" Tag="컨트롤"/>
            <RowDefinition Height="50"  Tag="여백"/>
            <RowDefinition Height="*"   Tag="리스트"/>
            <RowDefinition Height="30"  Tag="여백"/>
        </Grid.RowDefinitions>

        <!-- 타이틀 -->
        <Grid Grid.Column="1" Grid.ColumnSpan="5" Grid.Row="0" TextBlock.FontFamily="고도 M">
            <TextBlock Text="프로젝트 관리" FontSize="24" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
        </Grid>

        <!-- 중간 컨트롤 -->
        <Border Grid.Column="1" Grid.ColumnSpan="5" Grid.Row="2" Style="{StaticResource BaseCard}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="검색옵션" FontSize="13" FontWeight="Bold" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="320,0,0,0"/>
                    <CheckBox Content="전체" IsChecked="True" Margin="20,0,0,0"/>
                    <CheckBox Content="계약중"/>
                    <CheckBox Content="폐업"/>
                    <CheckBox Content="주의"/>
                </StackPanel>

                <Line Grid.Row="0" Stroke="{StaticResource Color_Gray}" StrokeThickness="0.5" X1="0" X2="2000"
                      HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>

                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="검색명" FontSize="13" FontWeight="Bold" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="320,0,0,0"/>

                    <ComboBox Width="200" Height="28" Margin="20,0,0,0"/>

                    <TextBox Width="220" Height="28" ToolTip="검색어를 입력해주세요." Margin="20,0,0,0"/>

                    <Button Width="70" Height="28" Content="검색" ToolTip="검색" Margin="20,0,0,0"/>

                    <Button Content="➕️ 새 프로젝트" Width="120" Height="30" VerticalAlignment="Top" Margin="40,0,0,0" Click="{local:MethodBinding BtnProjectAdd}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 리스트 목록  -->
        <ItemsControl Grid.Column="1" Grid.ColumnSpan="5" Grid.Row="4" ItemsSource="{Binding ProjectList}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Vertical" VirtualizingPanel.VirtualizationMode="Recycling"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.Template>
                <ControlTemplate TargetType="{x:Type ItemsControl}">
                    <Border Style="{StaticResource BaseCard}" Padding="0,0,0.5,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60" Tag="ID"/>
                                <ColumnDefinition Width="*"  Tag="Name"/>
                                <ColumnDefinition Width="190" Tag="Status"/>
                                <ColumnDefinition Width="190" Tag="Date"/>

                                <ColumnDefinition Width="50" Tag="1"/>
                                <ColumnDefinition Width="50" Tag="2"/>
                                <ColumnDefinition Width="50" Tag="3"/>
                                <ColumnDefinition Width="50" Tag="4"/>
                                <ColumnDefinition Width="50" Tag="5"/>
                                <ColumnDefinition Width="50" Tag="6"/>
                                <ColumnDefinition Width="50" Tag="7"/>
                                <ColumnDefinition Width="50" Tag="8"/>
                                <ColumnDefinition Width="50" Tag="9"/>
                                <ColumnDefinition Width="50" Tag="10"/>
                                <ColumnDefinition Width="50" Tag="11"/>
                                <ColumnDefinition Width="50" Tag="12"/>

                                <ColumnDefinition Width="120" Tag="Member"/>
                                <ColumnDefinition Width="90" Tag="Update"/>
                                <ColumnDefinition Width="200" Tag="Action"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="40"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.Resources>
                                <Style TargetType="{x:Type TextBlock}">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="FontSize" Value="14"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                            </Grid.Resources>

                            <ScrollViewer Grid.Column="0" Grid.ColumnSpan="20" Grid.Row="1" VerticalScrollBarVisibility="Hidden">
                                <ItemsPresenter/>
                            </ScrollViewer>

                            <TextBlock Grid.Column="0"  Text="ID"      />
                            <TextBlock Grid.Column="1"  Text="프로젝트" />
                            <TextBlock Grid.Column="2"  Text="진행률"   />
                            <TextBlock Grid.Column="3"  Text="기간"     />
                            <TextBlock Grid.Column="4"  Text="1월" />
                            <TextBlock Grid.Column="5"  Text="2월" />
                            <TextBlock Grid.Column="6"  Text="3월" />
                            <TextBlock Grid.Column="7"  Text="4월" />
                            <TextBlock Grid.Column="8"  Text="5월" />
                            <TextBlock Grid.Column="9"  Text="6월"  />
                            <TextBlock Grid.Column="10" Text="7월" />
                            <TextBlock Grid.Column="11" Text="8월" />
                            <TextBlock Grid.Column="12" Text="9월" />
                            <TextBlock Grid.Column="13" Text="10월" />
                            <TextBlock Grid.Column="14" Text="11월" />
                            <TextBlock Grid.Column="15" Text="12월" />
                            <TextBlock Grid.Column="16" Text="담당" />
                            <TextBlock Grid.Column="17" Text="업데이트" />
                            <TextBlock Grid.Column="18" Text="액션" />

                            <!-- 구분선 -->
                            <Line Grid.Column="0" Grid.ColumnSpan="20" Grid.Row="0" VerticalAlignment="Bottom" X1="0" X2="100" Stretch="Fill" StrokeThickness="0.5" Stroke="Gray"/>

                            <Line  Grid.Column="0"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="1"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="2"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="3"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="4"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="5"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="6"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="7"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="8"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="9"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="10"  Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="11" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="12" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="13" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="14" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="15" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="16" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="17" Style="{StaticResource Line_Vertical}"/>
                            <Line  Grid.Column="18" Style="{StaticResource Line_Vertical}"/>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </ItemsControl.Template>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border>
                        <Border.Style>
                            <Style TargetType="{x:Type Border}">
                                <Setter Property="Cursor" Value="Hand"/>
                                <Setter Property="BorderThickness" Value="0.5"/>
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderBrush" Value="Gray"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#E5EAEA"/>
                                        <Setter Property="BorderBrush" Value="SkyBlue"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <ContentControl Grid.Row="0" Template="{StaticResource ProjectBlock}"/>

                            <ItemsControl Grid.Row="1" ItemsSource="{Binding TaskList}" Visibility="{Binding TaskView}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel Orientation="Vertical"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <ContentControl Template="{StaticResource ProjectBlock}" Tag="Task"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</UserControl>
